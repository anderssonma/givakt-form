/*
 *  jQuery Boilerplate - v3.3.1
 *  A jump-start for jQuery plugins development.
 *  http://jqueryboilerplate.com
 *
 *  Made by Zeno Rocha
 *  Under MIT License
 */
!function(a){function b(b,e){this.element=b,this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init(),console.log("hey")}var c="GivaktForm",d={url:"https://docs.google.com/forms/d/1OVBAxKirWvr7rAdJTMIrfj2lEKNWuwfAVLV2UD3Yd5M/formResponse",callback:"formComplete",formId:"#givakt-form",inputClass:".givakt-input",submitBtn:"button",regExpPatterns:{letnumb:/^[a-zåäöA-ZÅÄÖ0-9\s.&-]+$/,letters:/^[a-zåäöA-ZÅÄÖ\s.&-]+$/,numbers:/^[0-9]+$/,email:null}};b.prototype={init:function(){this.noErrors=!0,this.inputs=this.options.formId+" "+this.options.inputClass,this.sendBtn=this.options.formId+" "+this.options.submitBtn;var b=this;a(this.inputs).on("blur",function(){b.validateOnBlur(a(this))}),a(this.options.formId).submit(function(a){return b.resetVals(),console.time("preptime"),b.prepareForm(),a.preventDefault(),!1})},resetVals:function(){this.noErrors=!0,console.timeEnd("preptime")},validateOnBlur:function(a){var b=this,c=this.options.regExpPatterns[a.data("validate")],d=a.val();c&&""!==d&&b.validateInput(a,d,c)},validateInput:function(a,b,c){c.test(b)?a.removeClass("error"):(a.addClass("error"),this.noErrors=!1)},addData:function(){var b={};return a(this.inputs).each(function(){b[a(this).data("field")]=a(this).val()}),console.log(b),b},sendForm:function(b){var c=this;a.ajax({type:"POST",url:this.options.url,data:b,crossDomain:!0,statusCode:{0:function(){c.options.callback()},200:function(){c.options.callback()}}}),console.timeEnd("preptime")},prepareForm:function(){var b=this;a(this.inputs).each(function(){b.validateInput(a(this),a(this).val(),b.options.regExpPatterns[a(this).data("validate")])}),console.log(this.noErrors),this.noErrors&&this.sendForm(this.addData())}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);